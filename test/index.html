<!DOCTYPE html>
<html>
<head data-framework="jingjs">
  <meta charset="UTF-8">
  <title>Test</title>
  <link rel="stylesheet" href="../bower_components/mocha/mocha.css">
  <link rel="stylesheet" href="../demo/todomvc/bower_components/todomvc-common/base.css">
  <link rel="stylesheet" href="../demo/todomvc/css/index.css">
</head>
<body j-app="TodoApp">
<div id="mocha">
</div>
<!--<script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>-->
<!--<script type="text/javascript" src="../bower_components/mocha/mocha.js"></script>-->
<!--<script type="text/javascript" src="../bower_components/chai/chai.js"></script>-->
<!--<script>mocha.setup('bdd')</script>-->
<!--<script type="text/javascript">-->
<!--for (var kn in chai) {-->
<!--if (!window[kn]) {-->
<!--window[kn] = chai[kn];-->
<!--}-->
<!--}-->
<!--</script>-->

<script type="text/javascript" src="../src/util/util.js"></script>
<script type="text/javascript" src="../src/util/array.js"></script>
<script type="text/javascript" src="../src/util/dom.js"></script>
<script type="text/javascript" src="../src/util/type.js"></script>
<script type="text/javascript" src="../src/util/uid.js"></script>
<script type="text/javascript" src="../src/environment/environment.js"></script>
<script type="text/javascript" src="../src/environment/emit.js"></script>
<script type="text/javascript" src="../src/environment/jarray.js"></script>
<script type="text/javascript" src="../src/environment/listen.js"></script>
<script type="text/javascript" src="../src/environment/watch.js"></script>
<script type="text/javascript" src="../src/module/module.js"></script>
<script type="text/javascript" src="../src/module/controller.js"></script>
<script type="text/javascript" src="../src/module/datasource.js"></script>
<script type="text/javascript" src="../src/module/directive.js"></script>
<script type="text/javascript" src="../src/module/drive.js"></script>
<script type="text/javascript" src="../src/directive/directive.js"></script>
<script type="text/javascript" src="../src/directive/j-app.js"></script>
<script type="text/javascript" src="../src/directive/j-async-env.js"></script>
<script type="text/javascript" src="../src/directive/j-bind.js"></script>
<script type="text/javascript" src="../src/directive/j-class.js"></script>
<script type="text/javascript" src="../src/directive/j-cloak.js"></script>
<script type="text/javascript" src="../src/directive/j-directive.js"></script>
<script type="text/javascript" src="../src/directive/j-env.js"></script>
<script type="text/javascript" src="../src/directive/j-if.js"></script>
<script type="text/javascript" src="../src/directive/j-include.js"></script>
<script type="text/javascript" src="../src/directive/j-model.js"></script>
<script type="text/javascript" src="../src/directive/j-on.js"></script>
<script type="text/javascript" src="../src/directive/j-repeat.js"></script>
<script type="text/javascript" src="../src/directive/j-show-hide.js"></script>
<script type="text/javascript" src="../src/directive/j-style.js"></script>
<script type="text/javascript" src="../src/parse/parse.js"></script>
<script type="text/javascript" src="../src/parse/expr.js"></script>
<script type="text/javascript" src="../src/parse/node/array.js"></script>
<script type="text/javascript" src="../src/parse/node/calc.js"></script>
<script type="text/javascript" src="../src/parse/node/condition.js"></script>
<script type="text/javascript" src="../src/parse/node/constant.js"></script>
<script type="text/javascript" src="../src/parse/node/empty.js"></script>
<script type="text/javascript" src="../src/parse/node/func.js"></script>
<script type="text/javascript" src="../src/parse/node/in.js"></script>
<script type="text/javascript" src="../src/parse/node/property.js"></script>
<script type="text/javascript" src="../src/parse/node/set.js"></script>
<script type="text/javascript" src="../src/parse/node/variable.js"></script>
<script type="text/javascript" src="../src/parse/token/token.js"></script>
<script type="text/javascript" src="../src/event/event.js"></script>
<script type="text/javascript" src="../src/datasource/datasource.js"></script>
<script type="text/javascript" src="../src/drive/drive.js"></script>
<script type="text/javascript" src="../src/drive/view.js"></script>
<script type="text/javascript" src="../src/jing/jing.js"></script>
<script type="text/javascript" src="../src/jing/init.js"></script>
<script type="text/javascript" src="../src/jing/regex.js"></script>

<!--<script type="text/javascript" src="cases/env/env.js"></script>-->
<!--<script type="text/javascript" src="cases/env/watch/array.js"></script>-->


<script>
  //  mocha.checkLeaks();
  //  mocha.globals(['jQuery']);
  //  mocha.run();

</script>

<section id="todoapp">
  <header id="header">
    <h1>todos</h1>
    <input id="new-todo" autocomplete="off" placeholder="What needs to be done?" j-model="new_todo" j-enter="addTodo()" autofocus>
  </header>
  <section id="main" j-show="todos.length">
    <input id="toggle-all" type="checkbox" j-bind="all_checked" j-change="toggleCheckAll(all_checked)">
    <label for="toggle-all">Mark all as complete</label>
    <ul id="todo-list" j-cloak>
      <li j-repeat="todo in todos.filter(cur_filter)" j-class="(todo.completed ? 'completed ' : '') + (todo === edited_todo ? 'editing' : '')">
        <div class="view">
          <input class="toggle" type="checkbox" j-model="todo.completed">
          <label j-dblclick="editTodo(todo)">{{todo.title}}</label>
          <button class="destroy" j-click="removeTodo(todo)"></button>
        </div>
        <input class="edit" j-model="todo.title" j-blur="doneEditing(todo)" todo-focus="todo === edited_todo">
      </li>
    </ul>
  </section>
  <footer id="footer" j-show="todos.length" j-cloak>
					<span id="todo-count">
                        <strong>{{remaining_count}}</strong>{{remaining_count>1?' items left':' item left'}}
					</span>
    <ul id="filters">
      <!-- todo : 接下来完善jing.js的Parse Object功能 -->
      <!-- 使得可以使用j-class='{selected : status==="all"}'这样的简便方式 -->
      <li>
        <a j-class="status === 'all' ? 'selected' : ''" href="#/all">All</a>
      </li>
      <li>
        <a j-class="status === 'active' ? 'selected' : ''" href="#/active">Active</a>
      </li>
      <li>
        <a j-class="status === 'completed' ? 'selected' : ''" href="#/completed">Completed</a>
      </li>
    </ul>
    <button id="clear-completed" j-click="clearCompletedTodos()" j-show="completed_count > 0">Clear completed ({{completed_count}})</button>
  </footer>
</section>
<footer id="info">
  <p>Double-click to edit a todo</p>
  <p>Written by
    <a href="http://xiaoge.me">Yuhang Ge</a>
  </p>
  <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
</footer>

<!-- 其它js文件可以放在body的末尾 -->
<script type="text/javascript" src="../demo/todomvc/bower_components/todomvc-common/base.js"></script>
<script type="text/javascript" src="../demo/todomvc/bower_components/director/director.min.js"></script>
<!-- 项目文件，以下文件可以按任意方式排列加载顺序 -->
<script type="text/javascript" src="../demo/todomvc/js/todo-focus.js"></script>
<script type="text/javascript" src="../demo/todomvc/js/store.js"></script>
<script type="text/javascript" src="../demo/todomvc/js/route.js"></script>
<script type="text/javascript" src="../demo/todomvc/js/todo.js"></script>
<script type="text/javascript" src="../demo/todomvc/js/app.js"></script>

</body>

</html>