<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="../bower_components/mocha/mocha.css">
    <style>
        .ca {
            color: red;
        }
        .cb {
            color: blue;
        }
        .cc {
            color: #800080;
        }
    </style>
</head>
<body>
<div id="mocha">

</div>

<script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="../bower_components/mocha/mocha.js"></script>
<script type="text/javascript" src="../bower_components/chai/chai.js"></script>
<script>mocha.setup('bdd')</script>
<script type="text/javascript">
    for(var kn in chai) {
        if(!window[kn]) {
            window[kn] = chai[kn];
        }
    }
</script>

<script type="text/javascript" src="../src/util/util.js"></script>
<script type="text/javascript" src="../src/environment/environment.js"></script>
<script type="text/javascript" src="../src/environment/emit.js"></script>
<script type="text/javascript" src="../src/environment/jarray.js"></script>
<script type="text/javascript" src="../src/environment/listen.js"></script>
<script type="text/javascript" src="../src/environment/watch.js"></script>
<script type="text/javascript" src="../src/module/module.js"></script>
<script type="text/javascript" src="../src/module/controller.js"></script>
<script type="text/javascript" src="../src/module/datasource.js"></script>
<script type="text/javascript" src="../src/module/directive.js"></script>
<script type="text/javascript" src="../src/module/drive.js"></script>
<script type="text/javascript" src="../src/directive/directive.js"></script>
<script type="text/javascript" src="../src/directive/j-app.js"></script>
<script type="text/javascript" src="../src/directive/j-async-env.js"></script>
<script type="text/javascript" src="../src/directive/j-class.js"></script>
<script type="text/javascript" src="../src/directive/j-directive.js"></script>
<script type="text/javascript" src="../src/directive/j-env.js"></script>
<script type="text/javascript" src="../src/directive/j-if.js"></script>
<script type="text/javascript" src="../src/directive/j-include.js"></script>
<script type="text/javascript" src="../src/directive/j-model.js"></script>
<script type="text/javascript" src="../src/directive/j-on.js"></script>
<script type="text/javascript" src="../src/directive/j-repeat.js"></script>
<script type="text/javascript" src="../src/directive/j-show-hide.js"></script>
<script type="text/javascript" src="../src/directive/j-style.js"></script>
<script type="text/javascript" src="../src/parse/parse.js"></script>
<script type="text/javascript" src="../src/parse/expr.js"></script>
<script type="text/javascript" src="../src/parse/node/array.js"></script>
<script type="text/javascript" src="../src/parse/node/calc.js"></script>
<script type="text/javascript" src="../src/parse/node/condition.js"></script>
<script type="text/javascript" src="../src/parse/node/constant.js"></script>
<script type="text/javascript" src="../src/parse/node/empty.js"></script>
<script type="text/javascript" src="../src/parse/node/func.js"></script>
<script type="text/javascript" src="../src/parse/node/in.js"></script>
<script type="text/javascript" src="../src/parse/node/property.js"></script>
<script type="text/javascript" src="../src/parse/node/set.js"></script>
<script type="text/javascript" src="../src/parse/node/variable.js"></script>
<script type="text/javascript" src="../src/parse/token/token.js"></script>
<script type="text/javascript" src="../src/event/event.js"></script>
<script type="text/javascript" src="../src/datasource/datasource.js"></script>
<script type="text/javascript" src="../src/drive/drive.js"></script>
<script type="text/javascript" src="../src/drive/view.js"></script>
<script type="text/javascript" src="../src/jing/jing.js"></script>

<!--<script type="text/javascript" src="cases/env/watch/expr.js"></script>-->
<!--<script type="text/javascript" src="cases/env/watch/array.js"></script>-->

<script type="text/javascript">
    function log() {
        console.log.apply(console, arguments);
    }
    jing.module('MyApp')

            .env('Ctrl', function(module, env) {
                this.c = 'ca';
            }).env('ShowEnv', function() {
                this.state = 'show';
            });
</script>

<script>
//    mocha.checkLeaks();
//    mocha.globals(['jQuery']);
//    mocha.run();
</script>

<div id="main" j-app="MyApp">
    <div j-env="Ctrl">
        <p j-class="c === 'cd' ? '' : c">Hello, Jing.JS</p>
        <p><button j-click="c = c==='cb' ? 'cc' : 'cb'">Toggle Color</button></p>
        <p><button j-click="c = 'cd' ">Delete Color</button></p>
        <div j-env="ShowEnv">
            <p class="cb" j-show="state==='show'">Hello, World.</p>
            <p><button j-click="state= state==='show' ? 'hide' : 'show'">{{state==='show' ? 'Hide' : 'Show'}}</button></p>
        </div>
    </div>

</div>

</body>
</html>