<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../bower_components/angular/angular.js"></script>
    <script type="text/javascript">
        var app = angular.module('MyApp', [])
                .filter('toUpper', [function() {
                    return function(str) {
                        return str.toUpperCase();
                    }
                }])
                .controller('TestCtrl', ['$scope', function($scope) {
                    $scope.message = 'hello';
                    $scope.boy = {
                        name : 'xiaoge',
                        children : ['0', 'b', 'c']
                    };
                    $scope.ops = {
                        index : 0
                    };
                    $scope.pr = function() {
                        return 'hello';
                    };
                    $scope.test = function() {

                        function aa(n, v) {
                            var rtn = [n];
                            [].push.apply(rtn, v instanceof Array ? v : arguments.slice(1));
                            return rtn;
                        }

                        console.log(aa(1,2,3,4,5));
                    }
                }]);

        (function() {
            function $merge(src, options) {
                for(var kn in options) {
                    src[kn] = options[kn];
                }
                return src;
            }

            function a(options) {
                return $merge({
                    'a' : 10,
                    'b' : 'he'
                }, options);
            }

            console.log(a({'a':1}), a({'a':90, b:'dsd'}))
        })();
    </script>
</head>
<body ng-app="MyApp">
    <!-- 在没有冲突的情况下，可以直接使用directive的name。-->
    <!-- 如果有多个模块下的directive重名，则使用name只能取到最后一次定义的. -->
    <!-- 通过j-directive-name和j-directive-value可以完整无冲突地引用directive -->
    <!-- 在j-directive-name中如果要使用jing.js内部定义的诸如j-click，请使用jing.j-click -->
    <!-- 这样的设计不仅可以简单地像使用angular一样地使用directive，也能支撑非常复杂的大规模模块化app -->
    <!--<p j-directive-name="me.xiaoge.xg-click, Alibaba.Alipay.ali-style, jing.j-model" j-directive-value="test(name), ali_style | color, message">Click</p>-->
    <!--<p xg-click="test(name)" ali-style="ali_style|color" j-model="message">Click</p>-->
    <div ng-controller="TestCtrl">
        <!--<p>{{message | toUpper}}</p>-->
        <!--<input type="text" ng-model="message"/>-->
        <p>{{pr()}}</p>
        <p>{{boy.name}}</p>
        <p>{{boy.children[ops.index]}}</p>
        <button ng-click="ops.index=ops.index+1">Click</button><br/>
        <button ng-click="test()">Click</button>
    </div>
</body>
</html>