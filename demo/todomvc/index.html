<!DOCTYPE html>
<html data-framework="jingjs">
<head>
    <meta charset="UTF-8">
    <title>jing.js • TodoMVC</title>
    <link rel="stylesheet" href="todomvc-common/base.css">
    <link rel="stylesheet" href="css/index.css">


    <!-- jing.js文件推荐放在开头，因为j-cloak指令依赖[j-clock]的css规则 -->
    <!-- 而这个css规则是在jing.js中添加到document.head中的 -->
    <!-- 如果把jing.js也放在body的末尾，则j-clock失效，除非在html中人为添加下面的style -->
    <!-- <style> [j-cloak] { display: none !important; } </style> -->
    <script type="text/javascript" src="https://rawgithub.com/YuhangGe/jing.js/new_binding_core/dist/jing.min.js"></script>

    <!-- 其它js文件可以放在body的末尾 -->
    <script type="text/javascript" src="todomvc-common/base.js"></script>
    <script type="text/javascript" src="director/director.min.js"></script>
    <!-- 项目文件，以下文件可以按任意方式排列加载顺序 -->
    <script type="text/javascript" src="js/todo-focus.js"></script>
    <script type="text/javascript" src="js/store.js"></script>
    <script type="text/javascript" src="js/route.js"></script>
    <script type="text/javascript" src="js/todo.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

</head>
<body j-app="TodoApp">

<section id="todoapp">
    <header id="header">
        <h1>todos</h1>
        <input id="new-todo" autocomplete="off" placeholder="What needs to be done?" j-model="new_todo" j-enter="addTodo()" autofocus>
    </header>
    <section id="main" j-show="todos.length">
        <input id="toggle-all" type="checkbox" j-model="all_checked" j-change="toggleCheckAll(all_checked)">
        <label for="toggle-all">Mark all as complete</label>
        <ul id="todo-list" j-cloak>
            <li j-repeat="todo in todos.filter(cur_filter)" j-class="(todo.completed ? 'completed ' : '') + (todo === edited_todo ? 'editing' : '')">
                <div class="view">
                    <input class="toggle" type="checkbox" j-model="todo.completed">
                    <label j-dblclick="editTodo(todo)">{{todo.title}}</label>
                    <button class="destroy" j-click="removeTodo(todo)"></button>
                </div>
                <input class="edit" j-model="todo.title" j-blur="doneEditing(todo)" todo-focus="todo === edited_todo">
            </li>
        </ul>
    </section>
    <footer id="footer" j-show="todos.length" j-cloak>
					<span id="todo-count">
                        <strong>{{remaining_count}}</strong>{{remaining_count>1?' items left':' item left'}}
					</span>
        <ul id="filters">
            <!-- todo : 接下来完善jing.js的Parse Object功能 -->
            <!-- 使得可以使用j-class='{selected : status==="all"}'这样的简便方式 -->
            <li>
                <a j-class="status === 'all' ? 'selected' : ''" href="#/all">All</a>
            </li>
            <li>
                <a j-class="status === 'active' ? 'selected' : ''" href="#/active">Active</a>
            </li>
            <li>
                <a j-class="status === 'completed' ? 'selected' : ''" href="#/completed">Completed</a>
            </li>
        </ul>
        <button id="clear-completed" j-click="clearCompletedTodos()" j-show="completed_count > 0">Clear completed ({{completed_count}})</button>
    </footer>
</section>
<footer id="info">
    <p>Double-click to edit a todo</p>
    <p>Written by
        <a href="http://xiaoge.me">Yuhang Ge</a>
    </p>
    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
</footer>

</body>
</html>